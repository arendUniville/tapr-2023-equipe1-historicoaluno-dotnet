== APP - tapr-2023-equipe1-historicoaluno-dotnet == Building...
== APP - tapr-2023-equipe1-historicoaluno-dotnet == /workspaces/tapr-2023-equipe1-historicoaluno-dotnet/Models/Context/RepositoryDbContext.cs(34,30): warning CS8604: Possible null reference argument for parameter 'accountEndpoint' in 'DbContextOptionsBuilder CosmosDbContextOptionsExtensions.UseCosmos(DbContextOptionsBuilder optionsBuilder, string accountEndpoint, TokenCredential tokenCredential, string databaseName, Action<CosmosDbContextOptionsBuilder>? cosmosOptionsAction = null)'. [/workspaces/tapr-2023-equipe1-historicoaluno-dotnet/tapr-2023-equipe1-historicoaluno-dotnet.csproj]
== APP - tapr-2023-equipe1-historicoaluno-dotnet == /workspaces/tapr-2023-equipe1-historicoaluno-dotnet/Models/Context/RepositoryDbContext.cs(36,27): warning CS8604: Possible null reference argument for parameter 'databaseName' in 'DbContextOptionsBuilder CosmosDbContextOptionsExtensions.UseCosmos(DbContextOptionsBuilder optionsBuilder, string accountEndpoint, TokenCredential tokenCredential, string databaseName, Action<CosmosDbContextOptionsBuilder>? cosmosOptionsAction = null)'. [/workspaces/tapr-2023-equipe1-historicoaluno-dotnet/tapr-2023-equipe1-historicoaluno-dotnet.csproj]
== APP - tapr-2023-equipe1-historicoaluno-dotnet == info: Microsoft.Hosting.Lifetime[14]
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==       Now listening on: http://localhost:5047
== APP - tapr-2023-equipe1-historicoaluno-dotnet == info: Microsoft.Hosting.Lifetime[0]
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==       Application started. Press Ctrl+C to shut down.
== APP - tapr-2023-equipe1-historicoaluno-dotnet == info: Microsoft.Hosting.Lifetime[0]
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==       Hosting environment: Development
== APP - tapr-2023-equipe1-historicoaluno-dotnet == info: Microsoft.Hosting.Lifetime[0]
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==       Content root path: /workspaces/tapr-2023-equipe1-historicoaluno-dotnet
== APP - tapr-2023-equipe1-historicoaluno-dotnet == fail: Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware[1]
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==       An unhandled exception has occurred while executing the request.
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==       Microsoft.Azure.Cosmos.CosmosException : Response status code does not indicate success: Forbidden (403); Substatus: 5301; ActivityId: cc2ea5af-2e71-445b-95f1-abf777108633; Reason: (Request blocked by Auth cosmosdb-tapr2023 : Request is blocked because principal [25299bde-8b23-4aec-8424-b856ad817fb9] does not have required RBAC permissions to perform action [Microsoft.DocumentDB/databaseAccounts/readMetadata] on resource [/]. Learn more: https://aka.ms/cosmos-native-rbac.
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==       ActivityId: cc2ea5af-2e71-445b-95f1-abf777108633, Microsoft.Azure.Documents.Common/2.14.0, Linux/20.04 cosmos-netstandard-sdk/3.29.1);
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.Azure.Cosmos.GatewayStoreClient.ParseResponseAsync(HttpResponseMessage responseMessage, JsonSerializerSettings serializerSettings, DocumentServiceRequest request)
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.Azure.Cosmos.GatewayAccountReader.GetDatabaseAccountAsync(Uri serviceEndpoint)
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.Azure.Cosmos.Routing.GlobalEndpointManager.GetAccountPropertiesHelper.GetAndUpdateAccountPropertiesAsync(Uri endpoint)
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.Azure.Cosmos.Routing.GlobalEndpointManager.GetAccountPropertiesHelper.GetAccountPropertiesAsync()
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.Azure.Cosmos.GatewayAccountReader.InitializeReaderAsync()
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.Azure.Cosmos.CosmosAccountServiceConfiguration.InitializeAsync()
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.Azure.Cosmos.DocumentClient.InitializeGatewayConfigurationReaderAsync()
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.Azure.Cosmos.DocumentClient.GetInitializationTaskAsync(IStoreClientFactory storeClientFactory)
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync[TParam,TPolicy](Func`1 callbackMethod, Func`3 callbackMethodWithParam, Func`2 callbackMethodWithPolicy, TParam param, IRetryPolicy retryPolicy, IRetryPolicy`1 retryPolicyWithArg, Func`1 inBackoffAlternateCallbackMethod, Func`2 inBackoffAlternateCallbackMethodWithPolicy, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync[TParam,TPolicy](Func`1 callbackMethod, Func`3 callbackMethodWithParam, Func`2 callbackMethodWithPolicy, TParam param, IRetryPolicy retryPolicy, IRetryPolicy`1 retryPolicyWithArg, Func`1 inBackoffAlternateCallbackMethod, Func`2 inBackoffAlternateCallbackMethodWithPolicy, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.Azure.Cosmos.AsyncCacheNonBlocking`2.GetAsync(TKey key, Func`2 singleValueInitFunc, Func`2 forceRefresh)
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.Azure.Cosmos.DocumentClient.EnsureValidClientAsync(ITrace trace)
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==       --- Cosmos Diagnostics ---{"Summary":{},"name":"FeedIterator Read Next Async","id":"dd650d3c-8119-4706-bd08-d682a8ee863a","start time":"12:55:39:092","duration in milliseconds":12799.2713,"data":{"Client Configuration":{"Client Created Time Utc":"2023-11-24T00:55:39.0705913Z","MachineId":"hashedMachineName:41b5b708-b624-9170-d011-d441b41d1923","NumberOfClientsCreated":1,"NumberOfActiveClients":1,"ConnectionMode":"Gateway","User Agent":"cosmos-netstandard-sdk/3.30.1|1|X64|Linux 6.2.0-1016-azure 16 22.|.NET 7.0.9|N| Microsoft.EntityFrameworkCore.Cosmos/7.0.11","ConnectionConfig":{"gw":"(cps:50, urto:10, p:False, httpf: False)","rntbd":"(cto: 5, icto: -1, mrpc: 30, mcpe: 65535, erd: True, pr: ReuseUnicastPort)","other":"(ed:False, be:False)"},"ConsistencyConfig":"(consistency: NotSet, prgns:[], apprgn: )","ProcessorCount":2},"Query Correlated ActivityId":"a30d0c70-7e39-4151-bfab-693b5ff699ab"},"children":[{"name":"Create Query Pipeline","id":"18eec77d-c4ce-4c00-a2c2-5646f8962438","start time":"12:55:39:103","duration in milliseconds":12781.9218,"children":[{"name":"Get Container Properties","id":"036c2915-848a-4cab-a678-1e7afb458ba9","start time":"12:55:39:104","duration in milliseconds":12779.5921,"children":[{"name":"Get Collection Cache","id":"8202347a-6c4b-4955-951a-ee38c9fbb150","start time":"12:55:39:105","duration in milliseconds":12778.6871,"children":[{"name":"Waiting for Initialization of client to complete","id":"d7de94fa-0808-4250-85ae-8646e68c45b1","start time":"12:55:39:105","duration in milliseconds":12777.6795}]}]}]}]}
== APP - tapr-2023-equipe1-historicoaluno-dotnet == fail: Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware[1]
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==       An unhandled exception has occurred while executing the request.
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==       Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the the item with id '203503c3-42b1-466d-a216-4bfbd2ecb002'. See the inner exception for details.
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==        ---> Microsoft.Azure.Cosmos.CosmosException : Response status code does not indicate success: Forbidden (403); Substatus: 5301; ActivityId: 8f2e1fb1-9018-42a9-9bd2-15185bfe002e; Reason: (Request blocked by Auth cosmosdb-tapr2023 : Request is blocked because principal [25299bde-8b23-4aec-8424-b856ad817fb9] does not have required RBAC permissions to perform action [Microsoft.DocumentDB/databaseAccounts/readMetadata] on resource [/]. Learn more: https://aka.ms/cosmos-native-rbac.
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==       ActivityId: 8f2e1fb1-9018-42a9-9bd2-15185bfe002e, Microsoft.Azure.Documents.Common/2.14.0, Linux/20.04 cosmos-netstandard-sdk/3.29.1);
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.Azure.Cosmos.GatewayStoreClient.ParseResponseAsync(HttpResponseMessage responseMessage, JsonSerializerSettings serializerSettings, DocumentServiceRequest request)
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.Azure.Cosmos.GatewayAccountReader.GetDatabaseAccountAsync(Uri serviceEndpoint)
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.Azure.Cosmos.Routing.GlobalEndpointManager.GetAccountPropertiesHelper.GetAndUpdateAccountPropertiesAsync(Uri endpoint)
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.Azure.Cosmos.Routing.GlobalEndpointManager.GetAccountPropertiesHelper.GetAccountPropertiesAsync()
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.Azure.Cosmos.GatewayAccountReader.InitializeReaderAsync()
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.Azure.Cosmos.CosmosAccountServiceConfiguration.InitializeAsync()
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.Azure.Cosmos.DocumentClient.InitializeGatewayConfigurationReaderAsync()
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.Azure.Cosmos.DocumentClient.GetInitializationTaskAsync(IStoreClientFactory storeClientFactory)
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync[TParam,TPolicy](Func`1 callbackMethod, Func`3 callbackMethodWithParam, Func`2 callbackMethodWithPolicy, TParam param, IRetryPolicy retryPolicy, IRetryPolicy`1 retryPolicyWithArg, Func`1 inBackoffAlternateCallbackMethod, Func`2 inBackoffAlternateCallbackMethodWithPolicy, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync[TParam,TPolicy](Func`1 callbackMethod, Func`3 callbackMethodWithParam, Func`2 callbackMethodWithPolicy, TParam param, IRetryPolicy retryPolicy, IRetryPolicy`1 retryPolicyWithArg, Func`1 inBackoffAlternateCallbackMethod, Func`2 inBackoffAlternateCallbackMethodWithPolicy, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.Azure.Cosmos.AsyncCacheNonBlocking`2.GetAsync(TKey key, Func`2 singleValueInitFunc, Func`2 forceRefresh)
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.Azure.Cosmos.DocumentClient.EnsureValidClientAsync(ITrace trace)
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==       --- Cosmos Diagnostics ---{"Summary":{},"name":"CreateItemStreamAsync","id":"e9988d52-6ec5-45ca-b9e0-fb2b144bc167","start time":"12:57:37:458","duration in milliseconds":10126.5169,"data":{"Client Configuration":{"Client Created Time Utc":"2023-11-24T00:57:37.4563006Z","MachineId":"hashedMachineName:41b5b708-b624-9170-d011-d441b41d1923","NumberOfClientsCreated":2,"NumberOfActiveClients":2,"ConnectionMode":"Gateway","User Agent":"cosmos-netstandard-sdk/3.30.1|2|X64|Linux 6.2.0-1016-azure 16 22.|.NET 7.0.9|N| Microsoft.EntityFrameworkCore.Cosmos/7.0.11","ConnectionConfig":{"gw":"(cps:50, urto:10, p:False, httpf: False)","rntbd":"(cto: 5, icto: -1, mrpc: 30, mcpe: 65535, erd: True, pr: ReuseUnicastPort)","other":"(ed:False, be:False)"},"ConsistencyConfig":"(consistency: NotSet, prgns:[], apprgn: )","ProcessorCount":2}},"children":[{"name":"Microsoft.Azure.Cosmos.Handlers.RequestInvokerHandler","id":"5d6bd07c-62b2-4c25-8dfa-a126bf5c0895","start time":"12:57:37:461","duration in milliseconds":10118.2626,"children":[{"name":"Waiting for Initialization of client to complete","id":"7e2c7229-ed8d-4350-aea2-524d57292193","start time":"12:57:37:498","duration in milliseconds":10080.4962}]}]}
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          --- End of inner exception stack trace ---
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.EntityFrameworkCore.Cosmos.Storage.Internal.CosmosDatabaseWrapper.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==       --- End of stack trace from previous location ---
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at tapr_2023_equipe1_historicoaluno_dotnet.Services.HistoricoService.CreateAsync(Historico vo) in /workspaces/tapr-2023-equipe1-historicoaluno-dotnet/Services/HistoricoService.cs:line 57
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at tapr_2023_equipe1_historicoaluno_dotnet.Controllers.HistoricoController.Create(Historico vo) in /workspaces/tapr-2023-equipe1-historicoaluno-dotnet/Controllers/HistoricoController.cs:line 57
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at lambda_method19(Closure, Object)
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
== APP - tapr-2023-equipe1-historicoaluno-dotnet ==          at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
